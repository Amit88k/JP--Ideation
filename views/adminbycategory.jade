extends adminlayout

block content
    nav.navbar.navbar-default.navbar-fixed-top.sidebar(role='navigation')
      .container-fluid
        // Brand and toggle get grouped for better mobile display
        .navbar-header
          button.navbar-toggle(type='button', data-toggle='collapse', data-target='#bs-sidebar-navbar-collapse-1')
            span.sr-only Toggle navigation
            span.icon-bar
            span.icon-bar
            span.icon-bar
          
        // Collect the nav links, forms, and other content for toggling
        #bs-sidebar-navbar-collapse-1.collapse.navbar-collapse
          ul.nav.navbar-nav
            li.active
              a(href='/admin/adminindex')
                | Home
                span.pull-right.hidden-xs.showopacity.glyphicon.glyphicon-home(style='font-size:16px;')
            li
              a(href='/admin/adminindex/users')
                | Users
                span.pull-right.hidden-xs.showopacity.glyphicon.glyphicon-user(style='font-size:16px;')
            li
              a(href='/admin/adminindex/bycategory')
                | Posts by Category
                span.pull-right.hidden-xs.showopacity.glyphicon.glyphicon-envelope(style='font-size:16px;')
            li
              a(href='/admin/adminindex/addcategory')
                | Add Category
                span.pull-right.hidden-xs.showopacity.glyphicon.glyphicon-envelope(style='font-size:16px;')
            li.dropdown
              a.dropdown-toggle(href='#', data-toggle='dropdown')
                | Settings 
                span.caret
                span.pull-right.hidden-xs.showopacity.glyphicon.glyphicon-cog(style='font-size:16px;')
              ul.dropdown-menu.forAnimate(role='menu')
                li
                  a(href='#') Action
                li
                  a(href='#') Another action
                li
                  a(href='#') Something else here
                li.divider
                li
                  a(href='#') Separated link
                li.divider
                li
                  a(href='#') One more separated link
    !=messages()
    ul.errors
        if errors
            each error, i in errors
                .alert.alert-dismissible.alert-danger
                        button.close(type='button', data-dismiss='alert') Ã—
                                #{error.msg}
    form.well(method='post', action='bycategory', enctype="multipart/form-data")
          legend Admin Posts
            .form-group
                label Category:
                select.form-control(name='category')
                 each category, i in categories
                   option(value='#{category.title}') #{category.title}
            input.btn.btn-default(name='submit', type='submit', value='Show')
    if posts
        table.table.table-striped.table-hover.tablestyle
            thead
                tr.info
                    th Id
                    th Title
                    th Category
                    th Date
                    th Author
                    th Approve
                    th Disapprove
            tbody
                each post, i in posts
                    tr.success
                        td 
                           a(href='/admin/adminindex/show/#{post._id}') 
                              .conatiner #{post._id}
                        td #{post.title}
                        td #{post.category}
                        td #{post.date}
                        td #{post.author}
                        td 
                          a(href='/admin/adminindex/approve/#{post._id}') 
                             .container.col-lg-2 Approve
                        td 
                           a(href='/admin/adminindex/disapprove/#{post._id}')
                               .container.col-lg-2 Disapprove